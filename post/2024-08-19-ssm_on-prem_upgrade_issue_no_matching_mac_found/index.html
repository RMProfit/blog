<!doctype html><html lang=en itemscope itemtype=http://schema.org/WebPage><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1"><title>SSM On-Prem Upgrade Issue: "No Matching MAC Found" - Profit's Blog</title>
<meta name=description content="This document provides step-by-step instructions for upgrading Cisco&rsquo;s Smart Software Manager (SSM) On-Prem from version 7-202001 to 8-202102, addressing common issues like Message Authentication Code (MAC) mismatches and using SFTP for file transfers.
I wrote this a while back when running in to issues in a production environment and am finally posting in case others run in to this while preparing for their Alma Linux upgrades. See my other post for those upgrade steps."><meta name=author content="Robert Profit"><script type=application/ld+json>{"@context":"http://schema.org","@type":"WebSite","name":"Profit\u0027s Blog","url":"https:\/\/robertmprofit.com\/"}</script><script type=application/ld+json>{"@context":"http://schema.org","@type":"Organization","name":"","url":"https:\/\/robertmprofit.com\/"}</script><script type=application/ld+json>{"@context":"http://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"item":{"@id":"https:\/\/robertmprofit.com\/","name":"home"}},{"@type":"ListItem","position":3,"item":{"@id":"https:\/\/robertmprofit.com\/post\/2024-08-19-ssm_on-prem_upgrade_issue_no_matching_mac_found\/","name":"Ssm on prem upgrade issue \u0022 no matching MAC found\u0022"}}]}</script><script type=application/ld+json>{"@context":"http://schema.org","@type":"Article","author":{"name":"Robert Profit"},"headline":"SSM On-Prem Upgrade Issue: \u0022No Matching MAC Found\u0022","description":"This document provides step-by-step instructions for upgrading Cisco\u0026rsquo;s Smart Software Manager (SSM) On-Prem from version 7-202001 to 8-202102, addressing common issues like Message Authentication Code (MAC) mismatches and using SFTP for file transfers.\nI wrote this a while back when running in to issues in a production environment and am finally posting in case others run in to this while preparing for their Alma Linux upgrades. See my other post for those upgrade steps.\n","inLanguage":"en","wordCount":693,"datePublished":"2024-08-19T00:00:00\u002b00:00","dateModified":"2024-08-19T00:00:00\u002b00:00","image":"https:\/\/robertmprofit.com\/img\/draft_selfie.jpeg","keywords":["licensing, UC, SSM"],"mainEntityOfPage":"https:\/\/robertmprofit.com\/post\/2024-08-19-ssm_on-prem_upgrade_issue_no_matching_mac_found\/","publisher":{"@type":"Organization","name":"https:\/\/robertmprofit.com\/","logo":{"@type":"ImageObject","url":"https:\/\/robertmprofit.com\/img\/draft_selfie.jpeg","height":60,"width":60}}}</script><meta property="og:title" content='SSM On-Prem Upgrade Issue: "No Matching MAC Found"'><meta property="og:description" content="This document provides step-by-step instructions for upgrading Cisco&rsquo;s Smart Software Manager (SSM) On-Prem from version 7-202001 to 8-202102, addressing common issues like Message Authentication Code (MAC) mismatches and using SFTP for file transfers.
I wrote this a while back when running in to issues in a production environment and am finally posting in case others run in to this while preparing for their Alma Linux upgrades. See my other post for those upgrade steps."><meta property="og:image" content="https://robertmprofit.com/img/draft_selfie.jpeg"><meta property="og:url" content="https://robertmprofit.com/post/2024-08-19-ssm_on-prem_upgrade_issue_no_matching_mac_found/"><meta property="og:type" content="website"><meta property="og:site_name" content="Profit's Blog"><meta name=twitter:title content='SSM On-Prem Upgrade Issue: "No Matching MAC Found"'><meta name=twitter:description content="This document provides step-by-step instructions for upgrading Cisco&rsquo;s Smart Software Manager (SSM) On-Prem from version 7-202001 to 8-202102, addressing common issues like Message …"><meta name=twitter:image content="https://robertmprofit.com/img/draft_selfie.jpeg"><meta name=twitter:card content="summary_large_image"><meta name=generator content="Hugo 0.144.2"><link rel=alternate href=https://robertmprofit.com/index.xml type=application/rss+xml title="Profit's Blog"><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.16.7/dist/katex.min.css integrity=sha384-3UiQGuEI4TTMaFmGIZumfRPtfKQ3trwQE2JgosJxCnGmQpL/lJdjpcHkaaFwHlcI crossorigin=anonymous><link rel=stylesheet href=https://use.fontawesome.com/releases/v5.5.0/css/all.css integrity=sha384-B4dIYHKNBt8Bc12p+WXckhzcICo0wtJAoU8YZTY5qE0Id1GSseTk6S+L3BlXeVIU crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/bootstrap@3.4.1/dist/css/bootstrap.min.css integrity=sha384-HSMxcRTRxnN+Bdg0JdbxYKrThecOKuH5zCYotlSAcp1+c8xmyTe9GYg1l9a69psu crossorigin=anonymous><link rel=stylesheet href=https://robertmprofit.com/css/main.css><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic"><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800"><link rel=stylesheet href=https://robertmprofit.com/css/highlight.min.css><link rel=stylesheet href=https://robertmprofit.com/css/codeblock.css><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe.min.css integrity=sha384-h/L2W9KefUClHWaty3SLE5F/qvc4djlyR4qY3NUV5HGQBBW7stbcfff1+I/vmsHh crossorigin=anonymous><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/default-skin/default-skin.min.css integrity=sha384-iD0dNku6PYSIQLyfTOpB06F2KCZJAKLOThS5HRe8b3ibhdEQ6eKsFf/EeFxdOt5R crossorigin=anonymous><script async src="https://www.googletagmanager.com/gtag/js?id=G-XC9S15QS4V"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-XC9S15QS4V")}</script></head><body><nav class="navbar navbar-default navbar-fixed-top navbar-custom"><div class=container-fluid><div class=navbar-header><button type=button class=navbar-toggle data-toggle=collapse data-target=#main-navbar>
<span class=sr-only>Toggle navigation</span>
<span class=icon-bar></span>
<span class=icon-bar></span>
<span class=icon-bar></span>
</button>
<a class=navbar-brand href=https://robertmprofit.com/>Profit's Blog</a></div><div class="collapse navbar-collapse" id=main-navbar><ul class="nav navbar-nav navbar-right"><li><a title=Home href=/>Home</a></li><li><a title=About href=/page/about>About</a></li><li><a title=Tags href=/tags>Tags</a></li></ul></div><div class=avatar-container><div class=avatar-img-border><a title="Profit's Blog" href=https://robertmprofit.com/><img class=avatar-img src=https://robertmprofit.com/img/draft_selfie.jpeg alt="Profit's Blog"></a></div></div></div></nav><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
</button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><header class=header-section><div class="intro-header no-img"><div class=container><div class=row><div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"><div class=post-heading><h1>SSM On-Prem Upgrade Issue: "No Matching MAC Found"</h1><span class=post-meta><i class="fas fa-calendar"></i>&nbsp;Posted on August 19, 2024
&nbsp;|&nbsp;<i class="fas fa-clock"></i>&nbsp;4&nbsp;minutes
&nbsp;|&nbsp;<i class="fas fa-book"></i>&nbsp;693&nbsp;words
&nbsp;|&nbsp;<i class="fas fa-user"></i>&nbsp;Robert Profit</span></div></div></div></div></div></header><div class=container role=main><div class=row><div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"><article role=main class=blog-post><p>This document provides step-by-step instructions for upgrading Cisco&rsquo;s Smart Software Manager (SSM) On-Prem from version 7-202001 to 8-202102, addressing common issues like Message Authentication Code (MAC) mismatches and using SFTP for file transfers.<br>I wrote this a while back when running in to issues in a production environment and am finally posting in case others run in to this while preparing for their Alma Linux upgrades. See my other post for those upgrade steps.</p><h2 id=contents>Contents</h2><ul><li><a href=#contents>Contents</a></li><li><a href=#overview>Overview</a></li><li><a href=#caveats>Caveats</a></li><li><a href=#components-used>Components Used</a></li><li><a href=#overview-1>Overview</a></li><li><a href=#workaround>Workaround</a></li><li><a href=#file-transfer-for-stig>File Transfer for STIG</a></li></ul><h2 id=overview>Overview</h2><p>This document contains steps to upgrade the Smart Software Manager (SSM) On-Prem when the Installation Guide steps as shown in the image taken from the Smart Software Manager On-Prem 8-202006 Installation Guide are unsuccessful.</p><p><img src="https://github.com/RMPRofit/blog/blob/gh-pages/post/images/installguide.png?raw=true" alt=installguiscreenshot></p><h2 id=caveats>Caveats</h2><p>The SSM server must not be in Federal Information Processing Standard (FIPS) mode as there is no access to the Linux shell when this is enabled.</p><h2 id=components-used>Components Used</h2><p>The information in this document is based on these software and hardware versions:</p><ul><li>SSM 7-202001</li><li>SSM 8-202102</li><li>Prime Collaboration Deployment 12.6.1.10000-21</li><li>WinSCP 5.19.4 (Build 11829 2021-10-24)</li><li>Putty 0.70</li></ul><h2 id=overview-1>Overview</h2><p>There are instances when the SSM cannot connect to an SFTP server where an upgrade ISO is stored. This results in an error and the SSM is unable to be upgraded. The workaround steps will be performed using an SSM On-Prem server running version 7-202001 and upgrading to 8-202102.</p><p>In this scenario, we are using Cisco Prime Collaboration Deployment (PCD) as the SFTP server. Using the following commands, the SSM On-Prem fails to pull the upgrade ISO from the SFTP server.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=p>[</span><span class=nx>admin</span><span class=err>@</span><span class=nx>SSM</span><span class=o>-</span><span class=nx>on</span><span class=o>-</span><span class=nx>Prem</span><span class=o>~</span><span class=p>]</span><span class=nx>$</span> <span class=nx>onprem</span><span class=o>-</span><span class=nx>console</span>
</span></span><span class=line><span class=cl><span class=nx>SSM</span> <span class=nx>On</span><span class=o>-</span><span class=nx>Prem</span> <span class=nx>Console</span> 
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;</span> <span class=nx>copy</span> <span class=nx>admintsftp</span><span class=err>@</span><span class=mf>192.168</span><span class=p>.</span><span class=mf>0.98</span><span class=o>:</span><span class=err>/upgrade/SSM On-Prem 8-202102 upgrade.sh.sha256 patches:</span>
</span></span><span class=line><span class=cl><span class=nx>Copying</span> <span class=nx>admintsftp</span><span class=err>@</span><span class=mf>192.168</span><span class=p>.</span><span class=mf>0.98</span><span class=o>:</span><span class=err>/upgrade/SSM_On-Prem_8-202102_upgrade.sh.sha256 to /var/files/patches</span>
</span></span><span class=line><span class=cl><span class=p>[</span><span class=nx>sudo</span><span class=p>]</span> <span class=nx>password</span> <span class=k>for</span> <span class=nx>admin</span><span class=o>:</span>
</span></span><span class=line><span class=cl><span class=nx>Last</span> <span class=nx>login</span><span class=o>:</span> <span class=nx>Thu</span> <span class=nx>Oct</span> <span class=mi>28</span> <span class=mi>21</span><span class=o>:</span><span class=mi>01</span><span class=o>:</span><span class=mi>01</span> <span class=nx>UTC</span> <span class=mi>2021</span> <span class=nx>on</span> <span class=nx>cron</span>
</span></span><span class=line><span class=cl><span class=nx>FIPS</span> <span class=nx>mode</span> <span class=nx>initialized</span>
</span></span><span class=line><span class=cl><span class=nx>Unable</span> <span class=nx>to</span> <span class=nx>negotiate</span> <span class=kd>with</span> <span class=mf>192.168</span><span class=p>.</span><span class=mf>0.98</span> <span class=nx>port</span> <span class=mi>22</span><span class=o>:</span> <span class=nx>no</span> <span class=nx>matching</span> <span class=nx>MAC</span> <span class=nx>found</span><span class=p>.</span> <span class=nx>Their</span> <span class=nx>offer</span><span class=o>:</span> <span class=nx>hmac</span><span class=o>-</span><span class=nx>sha1</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;</span> <span class=nx>copy</span> <span class=nx>admintsftp</span><span class=err>@</span><span class=mf>192.168</span><span class=p>.</span><span class=mf>0.98</span><span class=o>:</span><span class=err>/upgrade/SSM On-Prem 8-202102 upgrade.sh patches:</span>
</span></span><span class=line><span class=cl><span class=nx>Copying</span> <span class=nx>admintsftp</span><span class=err>@</span><span class=mf>192.168</span><span class=p>.</span><span class=mf>0.98</span><span class=o>:</span><span class=err>/upgrade/SSM_On-Prem_8-202102_upgrade.sh to /var/files/patches </span>
</span></span><span class=line><span class=cl><span class=nx>Last</span> <span class=nx>login</span><span class=o>:</span> <span class=nx>Thu</span> <span class=nx>Oct</span> <span class=mi>28</span> <span class=mi>21</span><span class=o>:</span><span class=mi>05</span><span class=o>:</span><span class=mi>53</span> <span class=nx>UTC</span> <span class=mi>2021</span> <span class=nx>on</span> <span class=nx>pts</span><span class=o>/</span><span class=mi>0</span> 
</span></span><span class=line><span class=cl><span class=nx>FIPS</span> <span class=nx>mode</span> <span class=nx>initialized</span> 
</span></span><span class=line><span class=cl><span class=nx>Unable</span> <span class=nx>to</span> <span class=nx>negotiate</span> <span class=kd>with</span> <span class=mf>192.168</span><span class=p>.</span><span class=mf>0.98</span> <span class=nx>port</span> <span class=mi>22</span><span class=o>:</span> <span class=nx>no</span> <span class=nx>matching</span> <span class=nx>MAC</span> <span class=nx>found</span><span class=p>.</span> <span class=nx>Their</span> <span class=nx>offer</span><span class=o>:</span> <span class=nx>hmac</span><span class=o>-</span><span class=nx>sha1</span>
</span></span></code></pre></div><h2 id=workaround>Workaround</h2><p>You will now have to use an SFTP program like WinSCP to connect to SSM On-Prem and copy the upgrade files into the default Admin directory.</p><p><img src="https://github.com/RMPRofit/blog/blob/gh-pages/post/images/onpremdirectory.png?raw=true" alt="OnPrem File Directory"></p><p>Verify the files are present after first exiting out of the On-Prem Console and back to the Linux prompt. Once verified, they will have to be moved to the patches directory.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=o>&gt;&gt;</span> <span class=nx>exit</span>
</span></span><span class=line><span class=cl><span class=p>[</span><span class=nx>admin</span><span class=err>@</span><span class=nx>SSM</span><span class=o>-</span><span class=nx>On</span><span class=o>-</span><span class=nx>Prem</span> <span class=o>~</span><span class=p>]</span><span class=nx>$</span> <span class=nx>pwd</span>
</span></span><span class=line><span class=cl><span class=err>/home/admin</span>
</span></span><span class=line><span class=cl><span class=p>[</span><span class=nx>admin</span><span class=err>@</span><span class=nx>SSM</span><span class=o>-</span><span class=nx>On</span><span class=o>-</span><span class=nx>Prem</span> <span class=o>~</span><span class=p>]</span><span class=nx>$</span> <span class=nx>ls</span>
</span></span><span class=line><span class=cl><span class=nx>SSM_On</span><span class=o>-</span><span class=nx>Prem_8</span><span class=o>-</span><span class=mi>202102_</span><span class=nx>upgrade</span><span class=p>.</span><span class=nx>sh</span>  <span class=nx>SSM_On</span><span class=o>-</span><span class=nx>Prem_8</span><span class=o>-</span><span class=mi>202102_</span><span class=nx>upgrade</span><span class=p>.</span><span class=nx>sh</span><span class=p>.</span><span class=nx>sha256</span>
</span></span><span class=line><span class=cl><span class=p>[</span><span class=nx>admin</span><span class=err>@</span><span class=nx>SSM</span><span class=o>-</span><span class=nx>On</span><span class=o>-</span><span class=nx>Prem</span> <span class=o>~</span><span class=p>]</span><span class=nx>$</span> <span class=nx>mv</span> <span class=nx>SSM_On</span><span class=o>-</span><span class=nx>Prem_8</span><span class=o>-</span><span class=mi>202102_</span><span class=nx>upgrade</span><span class=p>.</span><span class=nx>sh</span><span class=p>.</span><span class=nx>sha256</span> <span class=o>/</span><span class=kd>var</span><span class=err>/files/patches </span>
</span></span><span class=line><span class=cl><span class=p>[</span><span class=nx>admin</span><span class=err>@</span><span class=nx>SSM</span><span class=o>-</span><span class=nx>On</span><span class=o>-</span><span class=nx>Prem</span> <span class=o>~</span><span class=p>]</span><span class=nx>$</span> <span class=nx>mv</span> <span class=nx>SSM_On</span><span class=o>-</span><span class=nx>Prem_8</span><span class=o>-</span><span class=mi>202102_</span><span class=nx>upgrade</span><span class=p>.</span><span class=nx>sh</span> <span class=o>/</span><span class=kd>var</span><span class=err>/files/patches</span>
</span></span><span class=line><span class=cl><span class=p>[</span><span class=nx>admin</span><span class=err>@</span><span class=nx>SSM</span><span class=o>-</span><span class=nx>On</span><span class=o>-</span><span class=nx>Prem</span> <span class=o>~</span><span class=p>]</span><span class=nx>$</span> <span class=nx>ls</span> <span class=o>/</span><span class=kd>var</span><span class=err>/files/patches</span>
</span></span><span class=line><span class=cl><span class=nx>SSM_On</span><span class=o>-</span><span class=nx>Prem_8</span><span class=o>-</span><span class=mi>202102_</span><span class=nx>upgrade</span><span class=p>.</span><span class=nx>sh</span>  <span class=nx>SSM_On</span><span class=o>-</span><span class=nx>Prem_8</span><span class=o>-</span><span class=mi>202102_</span><span class=nx>upgrade</span><span class=p>.</span><span class=nx>sh</span><span class=p>.</span><span class=nx>sha256</span>
</span></span></code></pre></div><p>Now go back into the On-Prem Console and initiate the upgrade.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=p>[</span><span class=nx>admin</span><span class=err>@</span><span class=nx>SSM</span><span class=o>-</span><span class=nx>On</span><span class=o>-</span><span class=nx>Prem</span> <span class=o>~</span><span class=p>]</span><span class=nx>$</span> <span class=nx>onprem</span><span class=o>-</span><span class=nx>console</span>
</span></span><span class=line><span class=cl><span class=nx>SSM</span> <span class=nx>On</span><span class=o>-</span><span class=nx>Prem</span> <span class=nx>Console</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;</span> <span class=nx>upgrade</span> <span class=nx>patches</span><span class=o>:</span><span class=nx>SSM_On</span><span class=o>-</span><span class=nx>Prem_8</span><span class=o>-</span><span class=mi>202102_</span><span class=nx>upgrade</span><span class=p>.</span><span class=nx>sh</span>
</span></span><span class=line><span class=cl><span class=nx>Upgrading</span> <span class=nx>system</span> <span class=nx>from</span> <span class=nx>patch</span> <span class=nx>file</span> <span class=o>/</span><span class=kd>var</span><span class=err>/files/patches/SSM_On-Prem_8-202102_upgrade.sh </span>
</span></span><span class=line><span class=cl><span class=p>[</span><span class=nx>sudo</span><span class=p>]</span> <span class=nx>password</span> <span class=k>for</span> <span class=nx>admin</span><span class=o>:</span>
</span></span><span class=line><span class=cl><span class=nx>Last</span> <span class=nx>login</span><span class=o>:</span> <span class=nx>Thu</span> <span class=nx>Oct</span> <span class=mi>28</span> <span class=mi>21</span><span class=o>:</span><span class=mi>15</span><span class=o>:</span><span class=mi>17</span> <span class=nx>orc</span> <span class=mi>2021</span>
</span></span><span class=line><span class=cl><span class=nx>Verified</span> <span class=nx>OK</span>
</span></span><span class=line><span class=cl><span class=nx>Creating</span> <span class=nx>directory</span> <span class=o>/</span><span class=kd>var</span><span class=err>/tmp/ssms_patch-8-202102 </span>
</span></span><span class=line><span class=cl><span class=nx>Verifying</span> <span class=nx>archive</span> <span class=nx>integrity</span><span class=err>…</span> <span class=mi>100</span><span class=o>%</span>  <span class=nx>All</span> <span class=nx>good</span><span class=p>.</span>
</span></span><span class=line><span class=cl><span class=nx>Uncompressing</span> <span class=nx>SSM</span> <span class=nx>On</span><span class=o>-</span><span class=nx>Prem</span> <span class=mf>6.</span><span class=nx>X</span><span class=p>.</span><span class=nx>X</span> <span class=nx>to</span> <span class=mi>8</span><span class=o>-</span><span class=mi>202102</span> <span class=nx>Upgrade</span> <span class=nx>Patch</span>
</span></span></code></pre></div><p>After the upgrade, you should be able to log in to the GUI or the CLI to verify the upgrade was successful.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=p>[</span><span class=nx>admin</span><span class=err>@</span><span class=nx>SSM</span><span class=o>-</span><span class=nx>On</span><span class=o>-</span><span class=nx>Prem</span> <span class=o>~</span><span class=p>]</span><span class=nx>$</span> <span class=nx>onprem</span><span class=o>-</span><span class=nx>console</span>
</span></span><span class=line><span class=cl><span class=nx>SSM</span> <span class=nx>On</span><span class=o>-</span><span class=nx>Prem</span> <span class=nx>Console</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;</span> <span class=nx>version</span>
</span></span><span class=line><span class=cl><span class=p>[</span><span class=nx>sudo</span><span class=p>]</span> <span class=nx>password</span> <span class=k>for</span> <span class=nx>admin</span><span class=o>:</span>
</span></span><span class=line><span class=cl><span class=nx>Last</span> <span class=nx>login</span><span class=o>:</span> <span class=nx>Mon</span> <span class=nx>Nov</span> <span class=mi>1</span> <span class=mi>20</span><span class=o>:</span><span class=mi>52</span><span class=o>:</span><span class=mi>40</span> <span class=nx>UTC</span> <span class=mi>2021</span> <span class=nx>on</span> <span class=nx>tty1</span>
</span></span><span class=line><span class=cl><span class=nx>On</span><span class=o>-</span><span class=nx>Prem</span> <span class=nx>version</span> <span class=p>(</span><span class=nx>current</span><span class=p>)</span><span class=o>:</span> <span class=mi>8</span><span class=o>-</span><span class=mi>202102</span>
</span></span><span class=line><span class=cl><span class=nx>On</span><span class=o>-</span><span class=nx>Prem</span> <span class=nx>version</span> <span class=p>(</span><span class=nx>ISO</span><span class=p>)</span><span class=o>:</span> <span class=mi>7</span><span class=o>-</span><span class=mi>202001</span>
</span></span><span class=line><span class=cl><span class=nx>Patches</span> <span class=nx>installed</span><span class=o>:</span> <span class=mi>8</span><span class=o>-</span><span class=mi>202004</span> <span class=mi>8</span><span class=o>-</span><span class=mi>202006</span> <span class=mi>8</span><span class=o>-</span><span class=mi>202008</span> <span class=mi>8</span><span class=o>-</span><span class=mi>202010</span> <span class=mi>8</span><span class=o>-</span><span class=mi>202102</span>
</span></span></code></pre></div><p><img src="https://github.com/RMPRofit/blog/blob/gh-pages/post/images/guipostupgrade.png?raw=true" alt=guipostupgrade></p><p>These steps have also been used to upgrade from 8-202102 to 8-202108.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=o>&gt;&gt;</span> <span class=nx>upgrade</span> <span class=nx>patches</span><span class=o>:</span><span class=nx>SSM_On</span><span class=o>-</span><span class=nx>Prem_8</span><span class=o>-</span><span class=mi>202108_</span><span class=nx>upgrade</span><span class=p>.</span><span class=nx>sh</span>
</span></span><span class=line><span class=cl><span class=nx>Upgrading</span> <span class=nx>system</span> <span class=nx>from</span> <span class=nx>patch</span> <span class=nx>file</span> <span class=o>/</span><span class=kd>var</span><span class=err>/files/patches/SSM_On-Prem_8-202108_upgrade.sh </span>
</span></span><span class=line><span class=cl><span class=nx>Last</span> <span class=nx>login</span><span class=o>:</span> <span class=nx>Mon</span> <span class=nx>Nov</span>  <span class=mi>1</span> <span class=mi>18</span><span class=o>:</span><span class=mi>32</span><span class=o>:</span><span class=mi>35</span> <span class=nx>UTC</span> <span class=mi>2021</span> <span class=nx>on</span> <span class=nx>pts</span><span class=o>/</span><span class=mi>0</span>
</span></span><span class=line><span class=cl><span class=nx>Verified</span> <span class=nx>OK</span>
</span></span><span class=line><span class=cl><span class=nx>Creating</span> <span class=nx>directory</span> <span class=o>/</span><span class=kd>var</span><span class=err>/tmp/ssms_patch-8-202108</span>
</span></span><span class=line><span class=cl><span class=nx>Verifying</span> <span class=nx>archive</span> <span class=nx>integrity</span><span class=p>...</span>  <span class=mi>100</span><span class=o>%</span>   <span class=nx>All</span> <span class=nx>good</span><span class=p>.</span>
</span></span><span class=line><span class=cl><span class=nx>Uncompressing</span> <span class=nx>SSM</span> <span class=nx>On</span><span class=o>-</span><span class=nx>Prem</span> <span class=mf>6.</span><span class=nx>X</span><span class=p>.</span><span class=nx>X</span> <span class=nx>to</span> <span class=mi>8</span><span class=o>-</span><span class=mi>202108</span> <span class=nx>Upgrade</span> <span class=nx>Patch</span>  <span class=mi>100</span><span class=o>%</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>[</span><span class=nx>admin</span><span class=err>@</span><span class=nx>SSM</span><span class=o>-</span><span class=nx>On</span><span class=o>-</span><span class=nx>Prem</span> <span class=o>~</span><span class=p>]</span><span class=nx>$</span> <span class=nx>onprem</span><span class=o>-</span><span class=nx>console</span>
</span></span><span class=line><span class=cl><span class=nx>SSM</span> <span class=nx>On</span><span class=o>-</span><span class=nx>Prem</span> <span class=nx>Console</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;</span> <span class=nx>version</span>
</span></span><span class=line><span class=cl><span class=p>[</span><span class=nx>sudo</span><span class=p>]</span> <span class=nx>password</span> <span class=k>for</span> <span class=nx>admin</span><span class=o>:</span>
</span></span><span class=line><span class=cl><span class=nx>Last</span> <span class=nx>login</span><span class=o>:</span> <span class=nx>Mon</span> <span class=nx>Nov</span>  <span class=mi>1</span> <span class=mi>20</span><span class=o>:</span><span class=mi>52</span><span class=o>:</span><span class=mi>40</span> <span class=nx>UTC</span> <span class=mi>2021</span> <span class=nx>on</span> <span class=nx>tty1</span>
</span></span><span class=line><span class=cl><span class=nx>On</span><span class=o>-</span><span class=nx>Prem</span> <span class=nx>version</span> <span class=p>(</span><span class=nx>current</span><span class=p>)</span><span class=o>:</span> <span class=mi>8</span><span class=o>-</span><span class=mi>202108</span>
</span></span><span class=line><span class=cl><span class=nx>On</span><span class=o>-</span><span class=nx>Prem</span> <span class=nx>version</span> <span class=p>(</span><span class=nx>ISO</span><span class=p>)</span><span class=o>:</span> <span class=mi>7</span><span class=o>-</span><span class=mi>202001</span>
</span></span><span class=line><span class=cl><span class=nx>Patches</span> <span class=nx>installed</span><span class=o>:</span> <span class=mi>8</span><span class=o>-</span><span class=mi>202004</span> <span class=mi>8</span><span class=o>-</span><span class=mi>202006</span> <span class=mi>8</span><span class=o>-</span><span class=mi>202008</span> <span class=mi>8</span><span class=o>-</span><span class=mi>202010</span> <span class=mi>8</span><span class=o>-</span><span class=mi>202102</span> <span class=mi>8</span><span class=o>-</span><span class=mi>202012</span> <span class=mi>8</span><span class=o>-</span><span class=mi>202105</span> <span class=mi>8</span><span class=o>-</span><span class=mi>202108</span>
</span></span></code></pre></div><h2 id=file-transfer-for-stig>File Transfer for STIG</h2><p>Use the following curl command to transfer the upgrade file using FTP or SCP protocol to On-Prem console that configured with STIG compliance.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=nx>curl</span> <span class=o>-</span><span class=nx>k</span> <span class=o>-</span><span class=nx>u</span> <span class=o>&lt;</span><span class=nx>username</span> <span class=k>for</span> <span class=nx>server</span><span class=o>&gt;</span> <span class=o>&lt;</span><span class=nx>scp</span><span class=o>/</span><span class=nx>ftp</span><span class=o>&gt;:</span><span class=c1>//&lt;Server&#39;s IP address&gt;/&lt;path&gt;/&lt;filename&gt; -o /var/files/patches/&lt;filename&gt;
</span></span></span></code></pre></div><p>Example:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=o>&gt;&gt;</span> <span class=nx>curl</span> <span class=o>-</span><span class=nx>k</span> <span class=o>-</span><span class=nx>u</span> <span class=nx>ftp</span><span class=o>-</span><span class=nx>user</span> <span class=nx>ftp</span><span class=o>:</span><span class=c1>//10.10.10.1/test-ftp.txt -o /var/files/patches/test-ftp.txt 
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>OR</span> 
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;</span> <span class=nx>curl</span> <span class=o>-</span><span class=nx>k</span> <span class=o>-</span><span class=nx>u</span> <span class=nx>scpuser</span> <span class=nx>scp</span><span class=o>:</span><span class=c1>//10.10.10.1/localdisk/defaultRepo/banner.txt -o /var/files/patches/banner.txt
</span></span></span></code></pre></div><div class=blog-tags><a href=https://robertmprofit.com/tags/licensing/>licensing</a>&nbsp;
<a href=https://robertmprofit.com/tags/uc/>UC</a>&nbsp;
<a href=https://robertmprofit.com/tags/ssm/>SSM</a>&nbsp;</div><hr><section id=social-share><div class="list-inline footer-links"><div class=share-box aria-hidden=true><ul class=share><li><a href="//twitter.com/share?url=https%3a%2f%2frobertmprofit.com%2fpost%2f2024-08-19-ssm_on-prem_upgrade_issue_no_matching_mac_found%2f&amp;text=SSM%20On-Prem%20Upgrade%20Issue%3a%20%22No%20Matching%20MAC%20Found%22&amp;via=" target=_blank title="Share on Twitter"><i class="fab fa-twitter"></i></a></li><li><a href="//www.facebook.com/sharer/sharer.php?u=https%3a%2f%2frobertmprofit.com%2fpost%2f2024-08-19-ssm_on-prem_upgrade_issue_no_matching_mac_found%2f" target=_blank title="Share on Facebook"><i class="fab fa-facebook"></i></a></li><li><a href="//reddit.com/submit?url=https%3a%2f%2frobertmprofit.com%2fpost%2f2024-08-19-ssm_on-prem_upgrade_issue_no_matching_mac_found%2f&amp;title=SSM%20On-Prem%20Upgrade%20Issue%3a%20%22No%20Matching%20MAC%20Found%22" target=_blank title="Share on Reddit"><i class="fab fa-reddit"></i></a></li><li><a href="//www.linkedin.com/shareArticle?url=https%3a%2f%2frobertmprofit.com%2fpost%2f2024-08-19-ssm_on-prem_upgrade_issue_no_matching_mac_found%2f&amp;title=SSM%20On-Prem%20Upgrade%20Issue%3a%20%22No%20Matching%20MAC%20Found%22" target=_blank title="Share on LinkedIn"><i class="fab fa-linkedin"></i></a></li><li><a href="//www.stumbleupon.com/submit?url=https%3a%2f%2frobertmprofit.com%2fpost%2f2024-08-19-ssm_on-prem_upgrade_issue_no_matching_mac_found%2f&amp;title=SSM%20On-Prem%20Upgrade%20Issue%3a%20%22No%20Matching%20MAC%20Found%22" target=_blank title="Share on StumbleUpon"><i class="fab fa-stumbleupon"></i></a></li><li><a href="//www.pinterest.com/pin/create/button/?url=https%3a%2f%2frobertmprofit.com%2fpost%2f2024-08-19-ssm_on-prem_upgrade_issue_no_matching_mac_found%2f&amp;description=SSM%20On-Prem%20Upgrade%20Issue%3a%20%22No%20Matching%20MAC%20Found%22" target=_blank title="Share on Pinterest"><i class="fab fa-pinterest"></i></a></li></ul></div></div></section><h4 class=see-also>See also</h4><ul><li><a href=/post/2025-02-01-call-forwarding-not-working/>Unable to Call Forward All (CFA) from Phones</a></li><li><a href=/post/2024-10-11-dial_peers_unencrypted_post_xe/>Dial Peers Unencrypted Post Upgrade</a></li><li><a href=/post/2024-07-22-satellite_server_almalinux/>Cisco Smart Satellite Manager (SSM) Server AlmaLinux Upgrade Overview</a></li></ul></article><ul class="pager blog-pager"><li class=previous><a href=https://robertmprofit.com/post/2024-07-22-satellite_server_almalinux/ data-toggle=tooltip data-placement=top title="Cisco Smart Satellite Manager (SSM) Server AlmaLinux Upgrade Overview">&larr; Previous Post</a></li><li class=next><a href=https://robertmprofit.com/post/2024-10-11-dial_peers_unencrypted_post_xe/ data-toggle=tooltip data-placement=top title="Dial Peers Unencrypted Post Upgrade">Next Post &rarr;</a></li></ul></div></div></div><footer><div class=container><div class=row><div class=disclaimer><b>Disclaimer:</b> The opinions expressed herein are my own personal opinions and do not represent my employer’s view in any way.</div></div><div class=row><div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"><ul class="list-inline text-center footer-links"><li><a href=mailto:robert.profit82@gmail.com title="Email me"><span class="fa-stack fa-lg"><i class="fas fa-circle fa-stack-2x"></i>
<i class="fas fa-envelope fa-stack-1x fa-inverse"></i></span></a></li><li><a href=https://github.com/RMProfit title=GitHub><span class="fa-stack fa-lg"><i class="fas fa-circle fa-stack-2x"></i>
<i class="fab fa-github fa-stack-1x fa-inverse"></i></span></a></li><li><a href=https://linkedin.com/in/robert-profit-a63b0785 title=LinkedIn><span class="fa-stack fa-lg"><i class="fas fa-circle fa-stack-2x"></i>
<i class="fab fa-linkedin fa-stack-1x fa-inverse"></i></span></a></li><li><a href=https://www.youtube.com/@robertprofit82 title=Youtube><span class="fa-stack fa-lg"><i class="fas fa-circle fa-stack-2x"></i>
<i class="fab fa-youtube fa-stack-1x fa-inverse"></i></span></a></li></ul><p class="credits copyright text-muted">Robert Profit
&nbsp;&bull;&nbsp;&copy;
2025
&nbsp;&bull;&nbsp;
<a href=https://robertmprofit.com/>Profit's Blog</a></p><p class="credits theme-by text-muted"><a href=https://gohugo.io>Hugo v0.144.2</a> powered &nbsp;&bull;&nbsp; Theme <a href=https://github.com/halogenica/beautifulhugo>Beautiful Hugo</a> adapted from <a href=https://deanattali.com/beautiful-jekyll/>Beautiful Jekyll</a></p></div></div></div></footer><script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.7/dist/katex.min.js integrity=sha384-G0zcxDFp5LWZtDuRMnBkk3EphCK1lhEf4UEyEM693ka574TZGwo4IWwS6QLzM/2t crossorigin=anonymous></script><script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.7/dist/contrib/auto-render.min.js integrity=sha384-+VBxd3r6XgURycqtZ117nYw44OOcIax56Z4dCRWbxyPt0Koah1uHoK0o4+/RRE05 crossorigin=anonymous onload=renderMathInElement(document.body)></script><script src=https://code.jquery.com/jquery-3.7.0.slim.min.js integrity=sha384-w5y/xIeYixWvfM+A1cEbmHPURnvyqmVg5eVENruEdDjcyRLUSNej7512JQGspFUr crossorigin=anonymous></script><script src=https://cdn.jsdelivr.net/npm/bootstrap@3.4.1/dist/js/bootstrap.min.js integrity=sha384-aJ21OjlMXNL5UyIl/XNwTMqvzeRMZH2w8c5cRVpzpU8Y5bApTppSuUkhZXN0VxHd crossorigin=anonymous></script><script src=https://robertmprofit.com/js/main.js></script><script src=https://robertmprofit.com/js/highlight.min.js></script><script>hljs.initHighlightingOnLoad()</script><script>$(document).ready(function(){$("pre.chroma").css("padding","0")})</script><script src=https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe.min.js integrity=sha384-QELNnmcmU8IR9ZAykt67vGr9/rZJdHbiWi64V88fCPaOohUlHCqUD/unNN0BXSqy crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe-ui-default.min.js integrity=sha384-m67o7SkQ1ALzKZIFh4CiTA8tmadaujiTa9Vu+nqPSwDOqHrDmxLezTdFln8077+q crossorigin=anonymous></script><script src=https://robertmprofit.com/js/load-photoswipe.js></script></body></html>